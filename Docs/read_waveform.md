```wavedrom
{'edge': [
    'A|B'
],
'signal': [

{'name': 'mem_clk',                 'wave': 'p...............',

                                    'node': '..............A'
},
{},

['Inputs',
    {'name': 'wdata[ ]',            'wave': 'x.............',
                                        'data': ['']},
    {'name': 'addr[ ]',             'wave': 'x.456.......7.',
                                        'data': ['A0','A1','A2','A3','A4']},
    {'name': 'rd_wr_n',             'wave': 'x.1...........'},
    {'name': 'req',                 'wave': 'x01...........'},
],
{},

['Buffer Control',
    ['Out',
    {'name': 'ready',               'wave': 'x1.0.......101'},
    ],
    ['In',
    {'name': 'rfifo_almost_full',   'wave': 'x0.1..........'},
    {'name': 'rfifo_full',          'wave': 'x0..1......010'},
    {'name': 'banks_ready',         'wave': 'x1............'},
    ],
    {},
    ['Out',
    {'name': 'wdata[ ]',            'wave': 'x.............',
                                        'data': []},
    {'name': 'addr[ ]',             'wave': 'x.45x......6x7',
                                        'data': ['A0','A1','A2','A3']},
    {'name': 'rd_wr_n',             'wave': 'x.1.x......1x1'},
    {'name': 'bank_en[ ]',          'wave': 'x0450......607',
                                        'data': ['b0','b0','b0','b0']},
    {'name': 'rbuff_ain_en',        'wave': 'x01.0......101'},
    ],
],

{},
['Data Buffers',
['Read',
    ['Addr In',
    {'name': 'addr',                'wave': 'x.45x......6x7',
                                        'data': ['A0','A1','A2','A3']},
    {'name': 'ain_en',              'wave': 'x01.0......101'},
    ],
    {},
    ['Data In',
    {'name': 'din[ ]',              'wave': 'x........4455x',
                                        'data': ['D0-L','D0-H','D1-L','D1-H']},
    {'name': 'din_addr[ ]',         'wave': 'x........4.5.x',
                                        'data': ['A0','A1']},
    {'name': 'din_en',              'wave': 'x0.......1...0'},
    ],
    {},
    ['Internal',
    {'name': 'buff[2]',             'wave': 'x=.33......333',
                                        'data': ['-','A0','A0;A1','A1','A1;A2','A2']},
    {'name': 'size',                'wave': 'x=.==......===',
                                        'data': ['0','1','2','1','2','1']},
    ],
    {},
    ['Out',
    {'name': 'almost_full',         'wave': 'x0.1..........'},
    {'name': 'full',                'wave': 'x0..1......010'},
    {'name': 'dout[ ]',             'wave': 'x..........4x5',
                                        'data': ['D0','D1']},
    {'name': 'valid',               'wave': 'x0.........101'},
    ],
]],
{},

['Bank Schedular 0',
    ['In',
    {'name': 'addr_in[ ]',          'wave': 'x.45x......6x7',
                                        'data': ['A0','A1','A2','A3']},
    {'name': 'en',                  'wave': 'x01.0......101'},
    ],
    {'name': 'row',                 'wave': 'x.=.x......=x=',
                                        'data': ['row0','row1','row0']},
    {},
    ['Out',
    {'name': 'ready',               'wave': 'x1............'},
    ],
    {},
    ['Internal',
    {'name': 'reqs[4]',             'wave': 'x=.33..3.=..3.',
                                        'data': ['-','rd0','rd0;rd1','rd1','-','rd2']},
    {'name': 'active_row',          'wave': 'x=...3........',
                                        'data': ['-','row0']},
    {'name': 'state',               'wave': 'x=...3.3.3.3.=',
                                        'data': ['IDLE','ACT','RD','RD/Q','Q','ACT']},
    {},
    {'name': 'tRCD (act-rd/wr)=2',          'wave': 'x=...===......',
                                                'data': ['0','2','1','0','']},
    {'name': 'tCAS (rd-dq)=2',              'wave': 'x=.....=====..',
                                                'data': ['0','2','1','2','1','0']},
    {'name': 'tDQ=2',                       'wave': 'x=.......=====',
                                                'data': ['0','2','1','2','1','0']},
    {'name': 'tRAS (act-pre)=5',            'wave': 'x=...======...',
                                                'data': ['0','5','4','3','2','1','0']},
    {'name': 'tRC_act (act-act)=8',         'wave': 'x=...=========',
                                                'data': ['0','8','7','6','5','4','3','2','1','0']},
    {'name': 'tRC_ref (ref-ref)=8',         'wave': 'x=............',
                                                'data': ['0']},
    {'name': 'tRP (pre-act)=2',             'wave': 'x=............',
                                                'data': ['0']},
    {'name': 'tRRD (act[0]-act[1])=2',      'wave': 'x=..',
                                                'data': ['0']},
    ],
    {},
    ['Out',
    {'name': 'cmd_queue[0]',        'wave': 'x=..3=3=3=...3',
                                        'data': ['nop','ACT','nop','RD','nop','RD','nop','PRE']},
    {'name': 'cmd_queue[1]',        'wave': 'x=...3=3=.....',
                                        'data': ['nop','RD','nop','RD','nop']},
    {'name': 'cmd_queue[2]',        'wave': 'x=..3=3=.....3',
                                        'data': ['nop','RD','nop','RD','nop','ACT']},
    {'name': 'cmd_queue[3]',        'wave': 'x=...3=.......',
                                        'data': ['nop','RD','nop']},
    {},    
    {'name': 'addr_out[ ]',         'wave': 'x...4x4x5x....',
                                        'data': ['A0','A0','A1']},
    ],
    {},
    ['In',
    {'name': 'ack_cmd',             'wave': 'x0..101010...1'},
    ],
],
{},

{'name': 'refresh_pending',         'wave': 'x0..............'},
{},

['Bus Arbiter',
    ['In',
    {'name': 'bank_cmd_ack[ ]',     'wave': 'x0..=0=0=0...=',
                                        'data': ['b0','b0','b0','b0']},
    {'name': 'command',             'wave': 'x=..3=3=3=...3',
                                        'data': ['nop','ACT','nop','RD','nop','RD','nop','PRE']},
    ],
    {},
    ['Internal',
    {'name': 'command',             'wave': 'x=...3=3=3=...3',
                                        'data': ['nop','ACT','nop','RD','nop','RD','nop','PRE']},
    {'name': 'bank',                'wave': 'x....=x=x=x...=',
                                        'data': ['b0','b0','b0','b0']},
    {'name': 'dbus_sched[+0]',      'wave': 'x=.......4.5.=.',
                                        'data': ['-','A0','A1','-']},
    {'name': 'dbus_sched[+1]',      'wave': 'x=......4.5.=..',
                                        'data': ['-','A0','A1','-']},
    {'name': 'dbus_sched[+2]',      'wave': 'x=.....4.5.=...',
                                        'data': ['-','A0','A1','-']},
    {'name': 'dbus_sched[+3]',      'wave': 'x=.....4=5=....',
                                        'data': ['-','A0','-','A1','-']},
    ],
    {},
    ['Out',
    {'name': 'rbuff_din_addr[ ]',   'wave': 'x........4.5.x.',
                                        'data': ['A0','A1']},
    {'name': 'rbuff_din_en',        'wave': 'x0.......1...0.'},
    ],
    {},
    ['DRAM Bus',
    {'name': 'ADDR',                'wave': 'x....4x4x5x....',
                                        'data': ['A0.r','A0.c','A1.c']},
    {'name': 'BA',                  'wave': 'x....4x4x5x...3',
                                        'data': ['b0','b0','b0','b0']},
    {'name': 'DQM',                 'wave': 'x......0...x...'},
    {'name': 'WE_N',                'wave': 'x1............0'},
    {'name': 'RAS_N',               'wave': 'x1...01.......0'},
    {'name': 'CAS_N',               'wave': 'x1.....0101....'},
    {'name': 'DQ',                  'wave': 'xz.......4455z.',
                                        'data': ['D0-L','D0-H','D1-L','D1-H']},
    ],
],
{},

['Outputs',
    {'name': 'rdata[ ]',            'wave': 'x..........4x5x',
                                        'data': ['D0','D1']},
    {'name': 'valid',               'wave': 'x0.........1010'},
],

{'name': '',                        'node': '..............B'}

]}
```